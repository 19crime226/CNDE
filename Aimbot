local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

local AimbotEnabled = true
local MaxRange = 200

-- Trouver l'ennemi le plus proche
local function getClosestTarget()
    local closest = nil
    local minDistance = MaxRange

    for _, p in pairs(Players:GetPlayers()) do
        if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") and p.Character:FindFirstChild("Humanoid") and p.Character.Humanoid.Health > 0 then
            local dist = (p.Character.HumanoidRootPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
            if dist < minDistance then
                closest = p.Character.HumanoidRootPart
                minDistance = dist
            end
        end
    end
    return closest
end

-- Boucle aimbot + caméra
RunService.RenderStepped:Connect(function()
    if AimbotEnabled then
        local target = getClosestTarget()
        if target then
            -- Verrouille la caméra sur l'ennemi
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, target.Position)

            -- Déplace le curseur (si Delta le permet)
            local screenPos = Camera:WorldToViewportPoint(target.Position)
            local dx = screenPos.X - Mouse.X
            local dy = screenPos.Y - Mouse.Y
            pcall(function()
                mousemoverel(dx, dy)
            end)
        end
    end
end)

print("✅ SkyMan Aimbot + Caméra activés pour Delta")
